<!DOCTYPE html>
<html lang="zh-cn" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="" />
	
	
	
	<title>Mac privoxy&#43;Shadowsocks&#43;iTerm2走代理 ｜ 被遗忘的博客</title>
	
    
    
    <meta name="description" content="本篇文章讲述如何通过Shadowsocks和privoxy让mac的终端terminal可以翻墙
首先下载安装privoxy
brew install privoxy  默认就会启动privoxy，可通过以下终端命令查看privoxy进程是否启动成功：
ps aux | grep privoxy  然后配置privoxy，配置文件在/usr/local/etc/privoxy/config, 在文件末尾的listen-address 127.0.0.1:8118的下一行增加： forward-socks5 / 127.0.0.1:1086 .，其中1086是shadowsocks的本地Sock5监听端口
终端执行以下两条命令即可访问privoxy：
export http_proxy=&#39;http://localhost:8118&#39; export https_proxy=&#39;http://localhost:8118&#39;  一般建议将这2个命令增加到zsh的.zshrc文件中去。
至于terminal中ping google失败的问题，请参考请问如何在ss代理下ping通google.com?, 其实此时已经termianl可以访问外网了，不信的话试试：
~ » curl -I -XGET https://www.google.com HTTP/1.1 200 Connection established HTTP/2 200 date: Thu, 14 Feb 2019 16:18:17 GMT expires: -1 cache-control: private, max-age=0 content-type: text/html; charset=ISO-8859-1 p3p: CP=&amp;quot;This is not a P3P policy! See g.co/p3phelp for more info.&amp;quot; server: gws x-xss-protection: 1; mode=block x-frame-options: SAMEORIGIN set-cookie: 1P_JAR=2019-02-14-16; expires=Sat, 16-Mar-2019 16:18:17 GMT; path=/; domain=." />
    

    
    
    <meta name="keywords" content="JAVA, Spring, IOT, KAFKA, python, mysql" />
    

	

    <style type="text/css">
    </style>

    <link rel="shortcut icon" href="https://wenchao.ren/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://wenchao.ren/css/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://wenchao.ren/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://wenchao.ren/css/idea.css" />
    <script src="https://wenchao.ren/js/highlight.min.js"></script>
    <script src="https://wenchao.ren/js/highlightjs-line-numbers.min.js"></script>
    <script>hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
    </script>


    
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="https://wenchao.ren">
                    <span>被遗忘的博客</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title"></p>
            <div class="my_socials">
                
                
                <a href="https://github.com/xkrivzooh" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                <a href="https://weibo.com/AnotherRobot/home" title="weibo" target="_blank"><i class="ri-weibo-fill"></i></a>
                
                
                <a href="https://wenchao.ren/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/posts/mac-privoxy-shadowsocks-iterm2%E8%B5%B0%E4%BB%A3%E7%90%86/'>Mac privoxy&#43;Shadowsocks&#43;iTerm2走代理</a></h2>
                    </div>
                    <div class="post_content markdown"><p>本篇文章讲述如何通过<code>Shadowsocks</code>和<code>privoxy</code>让mac的终端terminal可以翻墙</p>
<p>首先下载安装privoxy</p>
<pre><code class="language-bash">brew install privoxy
</code></pre>
<p>默认就会启动privoxy，可通过以下终端命令查看privoxy进程是否启动成功：</p>
<pre><code class="language-bash">ps aux | grep privoxy
</code></pre>
<p>然后配置privoxy，配置文件在<code>/usr/local/etc/privoxy/config</code>, 在文件末尾的<code>listen-address 127.0.0.1:8118</code>的下一行增加：
<code>forward-socks5 / 127.0.0.1:1086 .</code>，其中<code>1086</code>是shadowsocks的本地Sock5监听端口</p>
<p>终端执行以下两条命令即可访问privoxy：</p>
<pre><code class="language-bash">export http_proxy='http://localhost:8118'
export https_proxy='http://localhost:8118'
</code></pre>
<p>一般建议将这2个命令增加到<code>zsh</code>的<code>.zshrc</code>文件中去。</p>
<p>至于terminal中ping google失败的问题，请参考<a href="https://segmentfault.com/q/1010000006634279">请问如何在ss代理下ping通google.com?</a>, 其实此时已经termianl可以访问外网了，不信的话试试：</p>
<pre><code class="language-bash">~ » curl -I -XGET https://www.google.com
HTTP/1.1 200 Connection established

HTTP/2 200
date: Thu, 14 Feb 2019 16:18:17 GMT
expires: -1
cache-control: private, max-age=0
content-type: text/html; charset=ISO-8859-1
p3p: CP=&quot;This is not a P3P policy! See g.co/p3phelp for more info.&quot;
server: gws
x-xss-protection: 1; mode=block
x-frame-options: SAMEORIGIN
set-cookie: 1P_JAR=2019-02-14-16; expires=Sat, 16-Mar-2019 16:18:17 GMT; path=/; domain=.google.com
set-cookie: NID=160=Mggo_ejHqi_HSj4vULKNmc47pjxGoKK0qcewujmXpdUm9avyK-vw09NrkF_mGZJdRVznZpvww2dlwh8C8LvhyX9KIEQFDQXtN7v0Gt9QrBaBWB1_9HN0XhXaDI0MFP2p_Y519oso-yZggi6HpZ_HynnMyih3EcdQW4nyYQQKXSo; expires=Fri, 16-Aug-2019 16:18:17 GMT; path=/; domain=.google.com; HttpOnly
alt-svc: quic=&quot;:443&quot;; ma=2592000; v=&quot;44,43,39&quot;
accept-ranges: none
vary: Accept-Encoding
</code></pre>
</div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>
                                    
                                    <a href="https://wenchao.ren/tags/%E6%9D%82%E8%AE%B0/">杂记</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                <div class="doc_comments"><div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rollenholt" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">
        <a href="https://varkai.com">Designed by VarKai,</a>
        <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
    </div>

    <div class="footer_slogan">
        <span></span>
    </div>
</footer>
    <script src="https://wenchao.ren/js/jquery-3.5.1.min.js"></script>
<link href="https://wenchao.ren/css/fancybox.min.css" rel="stylesheet">
<script src="https://wenchao.ren/js/fancybox.min.js"></script>
<script src="https://wenchao.ren/js/zozo.js"></script>




</body>

</html>