<!DOCTYPE html>
<html lang="zh-cn" >
<head>
	<meta name="generator" content="Hugo 0.76.5" />
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="" />
	
	
	
	<title>被遗忘的博客  </title>
	
    
    
    <meta name="description" content="被遗忘的博客" />
    

    
    
    <meta name="keywords" content="JAVA, Spring, IOT, KAFKA, python, mysql" />
    

	
	<link rel="alternate" type="application/rss+xml" href="https://wenchao.ren/index.xml" title="被遗忘的博客" />
    

    <style type="text/css">
    </style>

    <link rel="shortcut icon" href="https://wenchao.ren/images/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://wenchao.ren/css/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://wenchao.ren/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://wenchao.ren/css/idea.css" />
    <script src="https://wenchao.ren/js/highlight.min.js"></script>
    <script src="https://wenchao.ren/js/highlightjs-line-numbers.min.js"></script>
    <script>hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
    </script>


    
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives/">Archive</a>
            </li>
            
            <li>
                <a href="/tags/">Tags</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="https://wenchao.ren">
                    <span>被遗忘的博客</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title"></p>
            <div class="my_socials">
                
                
                <a href="https://github.com/xkrivzooh" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                <a href="https://weibo.com/AnotherRobot/home" title="weibo" target="_blank"><i class="ri-weibo-fill"></i></a>
                
                
                <a href="https://wenchao.ren/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/error-java-%E6%97%A0%E6%95%88%E7%9A%84%E6%A0%87%E8%AE%B0-version-%E8%A7%A3%E5%86%B3/'>Error:java: 无效的标记: -version 解决</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>使用最新版Intellij IDEA以后，编译项目出现Error:java: 无效的标记: -version 解决
后来排查发现是因为公司的super-pom中的maven-compiler-plugin的configuration有如下的配置：
&lt;compilerArgs&gt; - &lt;arg&gt;-J-Duser.country=US&lt;/arg&gt; - &lt;arg&gt;-version&lt;/arg&gt; &lt;/compilerArgs&gt;  而这个配置会和新版本的idea冲突。把pom中的这个配置删除就好了......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.25</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/java/">java</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/git%E6%B2%A1%E6%9C%89%E4%BD%BF%E7%94%A8%E8%87%AA%E5%B7%B1%E7%9A%84%E7%94%A8%E6%88%B7/'>git没有使用自己的用户</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>昨晚因为一些原因删除了一波.ssh目录中的东西，导致今天在git pull 的时候出现需要我输入git@gitlab.corp.xxx.com的密码。这种问题一看就是没有识别我的gitlab用户。
一般这种问题有2种解决办法：
 走http协议 http协议需要你输入用户名和密码 走ssh协议 重新生成秘钥，然后将公钥copy到gitlab的ssh keys中  这里具体说说第二种解决办法：
 本次使用ssh-keygen -t rsa -C &quot;用户名&quot;，一路回车会在.ssh目录下 生成2个文件：id_rsa.pub和id_rsa文件 复制id_rsa.pub文件的内容到gitlab的profile setting -&gt; SSH keys -&gt; Add an SSH key  ......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/git/">git</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/spring%E7%9A%84antpathmatcher%E6%98%AF%E4%B8%AA%E5%A5%BD%E4%B8%9C%E8%A5%BF/'>Spring的AntPathMatcher是个好东西</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>经常需要在各种中做一些模式匹配，正则表达式虽然是个好东西，但是Ant风格的匹配情况也非常的多。 这种情况下使用正则表达式不一定方便，而Spring提供的AntPathMatcher确可以帮助我们简化很多。
位于Spring-core中的org.springframework.util.AntPathMatcher使用起来非常简单：
public class AntPathMatcherTest { private AntPathMatcher pathMatcher = new AntPathMatcher(); @Test public void test() { pathMatcher.setCachePatterns(true); pathMatcher.setCaseSensitive(true); pathMatcher.setTrimTokens(true); pathMatcher.setPathSeparator(&quot;/&quot;); Assert.assertTrue(pathMatcher.match(&quot;a&quot;, &quot;a&quot;)); Assert.assertTrue(pathMatcher.match(&quot;a*&quot;, &quot;ab&quot;)); Assert.assertTrue(pathMatcher.match(&quot;a*/**/a&quot;, &quot;ab/asdsa/a&quot;)); Assert.assertTrue(pathMatcher.match(&quot;a*/**/a&quot;, &quot;ab/asdsa/asdasd/a&quot;)); Assert.assertTrue(pathMatcher.match(&quot;*&quot;, &quot;a&quot;)); Assert.assertTrue(pathMatcher.match(&quot;*/*&quot;, &quot;a/a&quot;)); } }  ......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/java/">java</a>
                    
                    <a href="https://wenchao.ren/tags/spring/">spring</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/%E5%B0%86%E5%B7%B2%E6%9C%89%E7%9A%84%E5%B7%A5%E7%A8%8B%E4%BB%A3%E7%A0%81push%E5%88%B0github%E6%88%96%E8%80%85gitlab/'>将已有的工程代码push到github或者gitlab</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>执行下面的命令就好了
git init git add . git commit -m &quot;Initial commit&quot; git remote add origin &lt;project url&gt; git push -f origin master  不过有时候会在github或者gitlab上将master分支进行保护，所以可能需要先创建一个别的分支，然后merge就好了
参考资料  push-existing-project-into-github  ......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/git/">git</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/spark-%E9%80%9A%E7%94%A8%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE/'>Spark 通用数据访问</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>##Data abstractions RDD is the core abstraction in Apache Spark. It is an immutable, fault-tolerant distributed collection of statically typed objects that are usually stored in-memory. DataFrame abstraction is built on top of RDD and it adds “named” columns. Moreover, the Catalyst optimizer, under the hood, compiles the operations and generates JVM bytecode for efficient execution.
 However, the named columns approach gives rise to a new problem. Static type information is no longer available to the compiler, and hence we lose the advantage of compile-time type safety.......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/spark/">spark</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/%E7%90%86%E8%A7%A3compressed-sparse-column-format-csc/'>理解Compressed Sparse Column Format (CSC)</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>最近在看《Spark for Data Science》这本书，阅读到《Machine Learning》这一节的时候被稀疏矩阵的存储格式CSC给弄的晕头转向的。所以专门写一篇文章记录一下我对这种格式的理解。
##目的 Compressed Sparse Column Format (CSC)的目的是为了压缩矩阵，减少矩阵存储所占用的空间。这很好理解，手法无法就是通过增加一些&quot;元信息&quot;来描述矩阵中的非零元素存储的位置(基于列)，然后结合非零元素的值来表示矩阵。这样在一些场景下可以减少矩阵存储的空间。
##Spark API
在Spark中我们一般创建这样的稀疏矩阵的API为：
package org.apache.spark.ml.linalg /** * Creates a column-major sparse matrix in Compressed Sparse Column (CSC) format. * * @param numRows number of rows * @param numCols number of columns * @param colPtrs the index corresponding to the start of a new column * @param rowIndices the row index of the entry * @param values non-zero matrix entries in column major */ @Since(&quot;2.......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/spark/">spark</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/%E4%BD%BF%E7%94%A8numpy%E8%BF%9B%E8%A1%8C%E7%9F%A9%E9%98%B5%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97/'>使用Numpy进行矩阵的基本运算</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>本文介绍了使用Python的Numpy库进行矩阵的基本运算 ##创建全0矩阵
# 创建3x5的全0矩阵 myZero = np.zeros([3, 5]) print myZero  输出结果：
[[ 0. 0. 0. 0. 0.] [ 0. 0. 0. 0. 0.] [ 0. 0. 0. 0. 0.]]  ##创建全1矩阵
# 创建3x5的全1矩阵 myOnes = np.ones([3, 5]) print myOnes  输出结果：
[[ 1. 1. 1. 1. 1.] [ 1. 1. 1. 1. 1.] [ 1. 1. 1. 1. 1.]]  ##创建0~1之间的随机矩阵
# 3x4的0~1之间的随机数矩阵 myRand = np.random.rand(3, 4) print myRand  输出结果为：......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/python/">python</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/%E4%BF%83%E9%94%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/'>促销系统设计</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>写在前面 首先必须得说一下，我并没有实际参与过电商系统相关的业务，我一直工作的项目组做的事情和本篇文章要讲的东西完全不同。因此本篇文章仅仅是我自己平时观察和构想的一些整理，如果有不太合理的地方，希望大家指正，先谢谢大家。
文章简介 在各大电商网站上，基本时时刻刻都可以看到促销活动。相信大家基本都参与过一些促销活动。随着业务的复杂化、运营的精细化，以及品类、平台、渠道的不断丰富，各种新的促销形式也层出不穷，贯穿从商品展示、搜索、购买、支付等整个流程。虽然促销的商品本身千差万别，但是但对于促销这个事情来说，又有很多共同的地方，本篇文章希望可以归纳总结出一套设计促销系统模型的方法论出来。
促销系统介绍 如果需要给促销一个定义的话，那么促销就是：
 在某个时间范围内，对满足某些条件的用户，给予满足某些约束的商品进行一定形式的优惠
 而促销系统就是为了支撑若干个这样的促销活动而设计出来的系统。 促销规则的生效页面是购物车页面和结算页面。在结算页面比购物车页面多出的是对运费的处理，其它的信息和购物车页面的信息是一致。只有在顾客将某个产品加入购物车后，基于购物车内的产品进行计算分析才会得出折扣后的价格、赠送或其它信息。当然在具体结算的时候，也会根据用户所选择的购物车中的项目重新计算折扣后的价格、赠送等其他信息的
常见的促销活动例子：  购买的图书满100减20，满200减50 购买某商品，赠送另外一个商品 满200元任选一个赠品 某商品特价 买A商品，在买B商品，则给予一定的折扣 满多少免运费 &hellip;&hellip;  促销系统模型的目标  功能强大 可扩展性好 与其他系统耦合度低  促销系统模型的设计 基本的促销模型 参考资料  当当11.11：促销系统与交易系统的重构实践 Craft6.cn 电商研发方案 - 促销规则、优惠券和活动模块分析和设计  ......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/%E6%9D%82%E8%B0%88/">杂谈</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/rbac%E6%9D%83%E9%99%90%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/'>RBAC权限系统设计</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>##Role Based Access Control
 Role-based access control (RBAC) is a method of regulating access to computer or network resources based on the roles of individual users within an enterprise. In this context, access is the ability of an individual user to perform a specific task, such as view, create, or modify a file.
 (The National Institute of Standards and Technology，美国国家标准与技术研究院)标准RBAC模型由4个部件模型组成，这4个部件模型分别是：
 基本模型RBAC0(Core RBAC） 角色分级模型RBAC1(Hierarchal RBAC) 角色限制模型RBAC2(Constraint RBAC) 统一模型RBAC3(Combines RBAC)  关于这四个区别，建议大家直接看本文参考资料中第二个链接：标准RBAC模型由4个部件模型，这篇文章说的很清楚。......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/%E6%9D%82%E8%AE%B0/">杂记</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>

<div class="post animated fadeInDown">
    <div class="post_title">
        <h2><a href='/posts/spring%E4%B8%ADenum%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5/'>Spring中Enum的依赖注入</a></h2>
    </div>
    
    <div class="list">
        <div class="post_content markdown">
            <p>Spring 依赖注入很简单，没什么值得细说的。但是我之前遇到了一个场景，需要在一个Enum类中注入某一个service。 说实话之前没有遇到过这种情况。虽然我不赞同Enum类有过多的逻辑，但是没有办法，现实就是那么残酷。而且Enum确实可以通过一些手段来注入其他发service的。 比如下面的代码中，为EnumClass枚举类注入OtherService服务，代码示例如下：
public enum EnumClass { A(1), B(2); EnumClass(int id) { this.id = id; } private int id; private OtherService otherService; public int getId() { return id; } public OtherService getOtherService() { return otherService; } public void setOtherService(OtherService otherService) { this.otherService = otherService; } public ResponseType func(){ //use otherService do somethings return new ResponseType(); } @Component public static class EnumClassInner { @Autowired private OtherService otherService; @PostConstruct public void postConstruct() { for (EnumClass aEnum : EnumSet.......</p>
        </div>
    </div>
    
    <div class="post_footer">
        <div class="meta">
            <div class="info">
                <span class="field">
                    <i class="ri-map-pin-time-line"></i>
                    <span class="date">2019.01.23</span>
                </span>
                
                <span class="field tags">
                    <i class="ri-stack-line"></i>
                    
                    <a href="https://wenchao.ren/tags/java/">java</a>
                    
                </span>
                
            </div>
        </div>
    </div>
</div>


<div class="pagination">
    
    
    <a href="/page/9/" class="pre">
        Prev
    </a>
    
    
    <a href="/page/11/" class="next">
        Next
    </a>
    
    
</div>
        </div>
    </div>
    <footer class="footer">
    <div class="powered_by">
        <a href="https://varkai.com">Designed by VarKai,</a>
        <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
    </div>

    <div class="footer_slogan">
        <span></span>
    </div>
</footer>
    <script src="https://wenchao.ren/js/jquery-3.5.1.min.js"></script>
<link href="https://wenchao.ren/css/fancybox.min.css" rel="stylesheet">
<script src="https://wenchao.ren/js/fancybox.min.js"></script>
<script src="https://wenchao.ren/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>



</body>

</html>