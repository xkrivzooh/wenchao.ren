<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>zk on 被遗忘的博客</title>
    <link>https://wenchao.ren/tags/zk/</link>
    <description>Recent content in zk on 被遗忘的博客</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 18 Feb 2019 12:20:17 +0000</lastBuildDate><atom:link href="https://wenchao.ren/tags/zk/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>zoopeeper Unexpected Exception: java.nio.channels.CancelledKeyException</title>
      <link>https://wenchao.ren/posts/zoopeeper-unexpected-exception-java-nio-channels-cancelledkeyexception/</link>
      <pubDate>Mon, 18 Feb 2019 12:20:17 +0000</pubDate>
      
      <guid>https://wenchao.ren/posts/zoopeeper-unexpected-exception-java-nio-channels-cancelledkeyexception/</guid>
      <description>在运维过程中zookeeper(版本：3.4.9)出现下面的异常：
2019-02-18 11:12:04,043 [myid:] - ERROR [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@178] - Unexpected Exception: java.nio.channels.CancelledKeyException at sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:73) at sun.nio.ch.SelectionKeyImpl.interestOps(SelectionKeyImpl.java:77) at org.apache.zookeeper.server.NIOServerCnxn.sendBuffer(NIOServerCnxn.java:151) at org.apache.zookeeper.server.ZooKeeperServer.finishSessionInit(ZooKeeperServer.java:663) at org.apache.zookeeper.server.ZooKeeperServer.revalidateSession(ZooKeeperServer.java:625) at org.apache.zookeeper.server.ZooKeeperServer.reopenSession(ZooKeeperServer.java:633) at org.apache.zookeeper.server.ZooKeeperServer.processConnectRequest(ZooKeeperServer.java:926) at org.apache.zookeeper.server.NIOServerCnxn.readConnectRequest(NIOServerCnxn.java:418) at org.apache.zookeeper.server.NIOServerCnxn.readPayload(NIOServerCnxn.java:198) at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:244) at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:203) at java.lang.Thread.run(Thread.java:745) 2019-02-18 11:12:04,100 [myid:] - ERROR [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:2181:NIOServerCnxn@178] - Unexpected Exception: java.nio.channels.CancelledKeyException at sun.nio.ch.SelectionKeyImpl.ensureValid(SelectionKeyImpl.java:73) at sun.nio.ch.SelectionKeyImpl.interestOps(SelectionKeyImpl.java:77) at org.apache.zookeeper.server.NIOServerCnxn.sendBuffer(NIOServerCnxn.java:151) at org.apache.zookeeper.server.ZooKeeperServer.finishSessionInit(ZooKeeperServer.java:663) at org.apache.zookeeper.server.ZooKeeperServer.revalidateSession(ZooKeeperServer.java:625) at org.apache.zookeeper.server.ZooKeeperServer.reopenSession(ZooKeeperServer.java:633) at org.apache.zookeeper.server.ZooKeeperServer.processConnectRequest(ZooKeeperServer.java:926) at org.apache.zookeeper.server.NIOServerCnxn.readConnectRequest(NIOServerCnxn.java:418) at org.apache.zookeeper.server.NIOServerCnxn.readPayload(NIOServerCnxn.java:198) at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:244) at org.apache.zookeeper.server.NIOServerCnxnFactory.run(NIOServerCnxnFactory.java:203) at java.lang.Thread.run(Thread.java:745)  这个是这个版本的zookeeper的一个bug，具体参见：https://issues.</description>
    </item>
    
  </channel>
</rss>
